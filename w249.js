var win = typeof unsafeWindow != 'undefined' ? unsafeWindow : window;
win.$.ajaxSetup({ cache: true });
win.$.getScript("https://shinko-to-kuma.com/scripts/mapSdk.js").done(() => {

    const { lines: line, texts: text, mapOverlay } = MapSdk;

    const style = (color) => ({
        main: { strokeStyle: color, lineWidth: 2 },
        mini: { strokeStyle: color, lineWidth: 2 }
    });

    const addLine = (x1, y1, x2, y2, color = "#FFFFFF") =>
        line.push({ x1, y1, x2, y2, styling: style(color), drawOnMini: true, drawOnMap: true });

    const addText = (x, y, t) =>
        text.push({ x, y, text: t, color: "#F7FF00", font: "35px bold Arial", drawOnMap: true, drawOnMini: true });

    // ===== AdelsGrenze Zack =====
    [
        [400, 600, 400, 645],
        [384, 416, 369, 430],
        [369, 430, 365, 425],
        [365, 425, 360, 425],
        [360, 425, 360, 450],
        [360, 450, 294, 450]
    ].forEach(p => addLine(...p, "#F0C800"));

    // ===== Korri Karte (rot) =====
    addLine(439.5, 499.5, 342, 360, "#FF0000");
    addLine(439.5, 499.5, 319, 609, "#FF0000");


    // Weißer Rahmen um Hauptblock
    [

        [439.5, 499.5, 342, 360], // asdfgh
        [439.5, 499.5, 319, 609],
        [436, 494.5, 379.5, 494.5],
        [435, 504.5, 379.5, 504.5],
        [399.5, 579.5, 399.5, 536.5],
        [399.5, 484.5, 399.5, 494.5],
        [399.5, 454.5, 399.5, 484.5],
        [399.5, 444.5, 328.5, 444.5],
        [392, 504.5, 410, 527],
        [389.5, 579.5, 399.5, 579.5],
        [389.5, 579, 389.5, 544.5],
        [384.5, 434.5, 334.5, 364.5],
        [379.5, 504.5, 379.5, 494.5],
        [374.5, 507, 399, 536],
        [374.5, 434.5, 329.5, 370.5],
        [365.5, 434.5, 326.5, 379.5],
        [362, 514, 389, 545],
        [359.5, 483, 359.5, 516],
        [359, 484.5, 429, 484.5],
        [355.5, 434.5, 320.5, 384.5],
        [352.5, 579.5, 389.5, 579.5],
        [351, 521, 379, 555],
        [345.5, 434.5, 315.5, 390.5],
        [344.5, 524.5, 379.5, 504.5],
        [344.5, 524.5, 297, 569],
        [344.5, 524.5, 289, 524.5],
        [344.5, 514.5, 289, 514.5],
        [344.5, 504.5, 284, 504.5],
        [344.5, 499.5, 359.5, 499.5],
        [344.5, 494.5, 290, 494.5],
        [344.5, 474.5, 344.5, 524.5],
        [344.5, 474.5, 379.5, 494.5],
        [344.5, 474.5, 310, 411],
        [344.5, 474.5, 290, 474.5],
        [344.5, 474.5, 399.55, 474.5],
        [339, 529, 368, 566],
        [339, 464.5, 288, 464.5],
        [339, 464.5, 399.5, 464.5],
        [334.5, 434.5, 311.5, 399.5],
        [333.5, 534.5, 289, 534.5],
        [333.5, 454.5, 408, 454.5],
        [329.5, 494.5, 329.5, 504.5],
        [329.5, 484.5, 329.5, 494.5],
        [329.5, 484.5, 329.5, 474.5],
        [329.5, 484.5, 287, 484.5],
        [329, 540, 357, 575],
        [322.5, 434.5, 394.5, 434.5],
        [317.5, 549.5, 290, 549.5],
        [317.5, 549.5, 345, 585],
        [307, 560, 334, 595],
        [300.5, 429.5, 320, 429.5],
        [299.5, 444.5, 328.5, 444.5],
        [297, 569, 324, 606],
        [294.5, 429.5, 320, 429.5],
        [293.5, 454.5, 333.5, 454.5],
        [289.5, 569.5, 319, 609],
        [289.5, 534.5, 289.5, 569.5],
        [289.5, 504.5, 289.5, 524.5],
        [422,474.5,414.5,474.5], // Hermine
        [414.5,474.5,414.5,463.75] // Hermine
   ].forEach(p => addLine(...p));


    // ===== Text + Linien Liste =====
    const entries = [
        [351, 491, "bayernt.ter"],
        [336, 481, "bayernt.ter"],
        [351, 510, "Jägermeister"],
        [420, 499, "tobiman26"],
        [365, 499, "robold"],
        [308, 422, "Woody"],
        [308, 438, "Alpha"],
        [308, 449, " Aragorn1/ Hawayistyler"],
        [308, 458, "Ares01/Haxen2912"],
        [308, 469, "prinzwilli/Oblivion-Pro"],
        [308, 479, "kattaklysm"],
        [308, 491, "DobbyLovesSocks"],
        [308, 500, "Phil Losoph"],
        [308, 510, "mooncoon"],
        [308, 520, "Progon"],
        [308, 530, "Gast/Mönch"],
        [308, 542, "charge"],
        [306, 553, "Gabagool"],
        [323, 568, "Andyisking"],
        [309, 576, "Grudod"],
        [307, 595, "??????"],
        [335, 560, "myway"],
        [348, 551, "?????"],
        [355, 542, "KingHouston/Disposable"],
        [369, 535, "Fabian"],
        [380, 525, "Doberman"],
        [394, 518, "Karomce"],
        [407, 511, "Dimoret"],
        [421, 490, "Gorzokderzerstörer"],
        [386, 489, "Gorzokderzerstörer + keeproking 2-3 grids"],
        [409, 473, "MrcosmoOG"],
        [382, 481, "Cellenseres"],
        [382, 469, "DadeMurphy"],
        [382, 461, "Grimbalt"],
        [382, 449, "wotan"],
        [382, 440, "Bobs"],
        [365, 407, "Doldi"],
        [348, 389, "Wolfshirn / Krieger3"],
        [326, 389, "xBlanusx"],
        [365, 420, "Tivanofaufuv Vex"],
        [282, 509, "???"],
        [335, 499, "Stromlan/Dexlogger"],
        [376, 568, "Levia"],
        [394, 563, "????"],
        [368, 405, "Kalle"],
        [359, 406, "Kardinal6"],
        [349, 407, "moonTech"],
        [345, 413, "MitronvonMandor"],
        [338, 415, "Hermine-Granger"],
        [326, 413, "DieGallier"],
        [313, 410, "Schalke1962 / lampl1"],
        [417,470,"Hermine"],
        [293,468,"Alpha-Wolf"]
    ];

    entries.forEach(e => addText(...e));

    mapOverlay.reload();

});














